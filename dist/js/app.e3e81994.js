(function(t){function e(e){for(var o,a,r=e[0],c=e[1],l=e[2],h=0,d=[];h<r.length;h++)a=r[h],i[a]&&d.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],o=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(o=!1)}o&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var o={},i={app:0},n=[];function a(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=o,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(s,o,function(e){return t[e]}.bind(null,o));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var o=s("64a9"),i=s.n(o);i.a},"096b":function(t,e,s){"use strict";var o=s("824b"),i=s.n(o);i.a},"0c9e":function(t,e,s){"use strict";var o=s("1720"),i=s.n(o);i.a},1115:function(t,e,s){"use strict";var o=s("caaf"),i=s.n(o);i.a},1720:function(t,e,s){},"22c0":function(t,e,s){},"28e7":function(t,e,s){},"3b72":function(t,e,s){"use strict";var o=s("c3ac"),i=s.n(o);i.a},"53ef":function(t,e,s){"use strict";var o=s("22c0"),i=s.n(o);i.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var o=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],a={name:"App"},r=a,c=(s("034f"),s("2877")),l=Object(c["a"])(r,i,n,!1,null,null,null);l.options.__file="App.vue";var u=l.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},d=[],_={name:"FisrtScreen",beforeMount:function(){this.$router.push("/mybook")}},p=_,k=(s("096b"),Object(c["a"])(p,h,d,!1,null,null,null));k.options.__file="FisrtScreen.vue";var m=k.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"mybook"}},[s("HeaderWithSearch"),s("FuncSwich",{attrs:{active:"mybook"}}),t.localBook?s("div",{staticClass:"full"},[s("ul",{staticClass:"books"},t._l(t.Books,function(e){return s("li",{key:e._id,staticClass:"book"},[s("span",{staticClass:"cover"},[s("img",{attrs:{src:t.Config.API.Statics+e.cover}})]),s("ul",{staticClass:"infos"},[s("li",[s("router-link",{staticClass:"title",attrs:{to:{path:"/reader",query:{book_id:e["_id"]}}}},[t._v("\n                          "+t._s(e.title)+"\n                      ")])],1),s("li",{staticClass:"author"},[t._v("\n                      "+t._s(e.author))]),s("li",{staticClass:"normalText"},[t._v("\n                      "+t._s(e.lastChapter))])])])}))]):t._e(),t.localBook?t._e():s("div",{staticClass:"full"},[s("div",{staticClass:"table"},[s("span",{staticClass:"add"},[s("router-link",{staticClass:"add_icon",attrs:{to:"/finding"}},[s("img",{staticClass:"add_a_book_icon",attrs:{src:"data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxnPjxwYXRoIGQ9Ik01MDAsMTBjLTUwLjcsMC05MS44LDQxLjItOTEuOCw5MS45djMwNi4zSDEwMS45QzUxLjEsNDA4LjEsMTAsNDQ5LjMsMTAsNTAwczQxLjEsOTEuOSw5MS45LDkxLjloMzA2LjN2MzA2LjNjMCw1MC43LDQxLjEsOTEuOCw5MS44LDkxLjhjNTAuOCwwLDkxLjktNDEuMSw5MS45LTkxLjhWNTkxLjloMzA2LjNjNTAuNywwLDkxLjktNDEuMSw5MS45LTkxLjljMC01MC43LTQxLjEtOTEuOS05MS45LTkxLjlINTkxLjlWMTAxLjlDNTkxLjksNTEuMiw1NTAuOCwxMCw1MDAsMTB6IiBzdHlsZT0iZmlsbDojZWI0ZjM4Ij48L3BhdGg+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjwvZz48L3N2Zz4gIA=="}})]),s("br"),s("router-link",{staticClass:"add_text",attrs:{to:"/finding"}},[t._v("添加书籍")])],1)])])],1)},b=[],v=(s("55dd"),s("ac6a"),s("456d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("ul",{staticClass:"items"},[s("li",{staticClass:"item left"},[s("router-link",{attrs:{id:"logo",to:"/"}},[t._v("追书")])],1),s("li",{staticClass:"item right"},[s("p",{staticClass:"input-box"},[s("span",{staticClass:"input-icon"},[t.show_search_input?t._e():s("img",{attrs:{src:"data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxwYXRoIGQ9Ik05NzEuOSw5NzEuOWMtMjQuMSwyNC4xLTYzLjIsMjQuMS04Ny4zLDBMNjk1LjEsNzgyLjVDNjIzLjYsODM1LjksNTM1LjIsODY4LDQzOSw4NjhDMjAyLjEsODY4LDEwLDY3NS45LDEwLDQzOUMxMCwyMDIuMSwyMDIuMSwxMCw0MzksMTBjMjM2LjksMCw0MjksMTkyLjEsNDI5LDQyOWMwLDk2LjEtMzIsMTg0LjYtODUuNSwyNTYuMmwxODkuNCwxODkuNEM5OTYsOTA4LjcsOTk2LDk0Ny44LDk3MS45LDk3MS45eiBNNDM5LDEzMi42Yy0xNjkuMiwwLTMwNi40LDEzNy4yLTMwNi40LDMwNi40YzAsMTY5LjIsMTM3LjIsMzA2LjQsMzA2LjQsMzA2LjRTNzQ1LjQsNjA4LjIsNzQ1LjQsNDM5Qzc0NS40LDI2OS44LDYwOC4yLDEzMi42LDQzOSwxMzIuNnoiIHN0eWxlPSJmaWxsOiNGRkZGRkYiPjwvcGF0aD48L2c+PC9zdmc+ICA="},on:{click:t.swich}})]),t.show_search_input?s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"},{name:"focus",rawName:"v-focus"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.keyword},on:{blur:t.swich,keyup:function(e){return"button"in e||13===e.keyCode?t.redirect_to_search(e):null},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}):t._e()])])])])}),w=[],y={name:"HeaderWithSearch",data:function(){return{show_search_input:!1,keyword:""}},methods:{swich:function(){this.show_search_input=!this.show_search_input},redirect_to_search:function(t){var e="/search/?key_word="+this.keyword;this.$router.push(e)}},directives:{focus:{inserted:function(t){t.focus()}}}},g=y,j=(s("53ef"),Object(c["a"])(g,v,w,!1,null,"47539f11",null));j.options.__file="HeaderWithSearch.vue";var M=j.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swich"},[s("ul",{staticClass:"items"},[s("li",{staticClass:"item"},[s("router-link",{attrs:{to:"/mybook"}},[t._v("书架")])],1),s("li",{staticClass:"item"},[s("router-link",{attrs:{to:"/finding"}},[t._v("发现")])],1)])])},C=[],S={name:"FuncSwich"},x=S,O=(s("ad4c"),Object(c["a"])(x,L,C,!1,null,"0cf7f902",null));O.options.__file="FuncSwich.vue";var I=O.exports,z={PROX_GATE:"https://web.imhcg.cn/php/proxy/",API:{Statics:"https://statics.zhuishushenqi.com",Search:"https://api.zhuishushenqi.com/book/fuzzy-search?query=",Cats:"https://api.zhuishushenqi.com/cats/lv2/statistics",Ranking:"https://api.zhuishushenqi.com/ranking/gender",BookByCat:"https://api.zhuishushenqi.com/book/by-categories",BookByRanking:"https://api.zhuishushenqi.com/ranking/"}},D={name:"MyBook",components:{HeaderWithSearch:M,FuncSwich:I},data:function(){return{Books:[],Config:z,localBook:localStorage.mybooks}},beforeMount:function(){var t=this;if(localStorage.mybooks){var e=Object.keys(JSON.parse(localStorage.mybooks));e.sort(),e.forEach(function(e){fetch(z.PROX_GATE,{method:"POST",body:JSON.stringify({url:"http://api.zhuishushenqi.com/book/"+e})}).then(function(t){return t.json()}).then(function(e){t.Books.push(e)})})}}},N=D,T=(s("f698"),Object(c["a"])(N,f,b,!1,null,"60b90429",null));T.options.__file="MyBook.vue";var P=T.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"full"},[s("HeaderWithSearch"),s("FuncSwich",{attrs:{active:"finding"}}),s("ul",{staticClass:"items"},[s("li",{staticClass:"item"},[s("router-link",{attrs:{to:"/finding/sort"}},[t._v("分类")])],1),s("li",{staticClass:"item"},[s("router-link",{attrs:{to:"/finding/ranking"}},[t._v("排行")])],1)])],1)},B=[],q={name:"Finding",components:{HeaderWithSearch:M,FuncSwich:I}},E=q,R=(s("eab4"),Object(c["a"])(E,A,B,!1,null,"660e5bc4",null));R.options.__file="Finding.vue";var F=R.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[s("HeaderWithBack",{attrs:{msg:t.key_word}}),s("div",{staticClass:"full"},[t.Search_data?s("div",[s("ul",{attrs:{id:"items"}},t._l(t.Search_data["books"],function(e){return s("li",{key:e._id,staticClass:"item"},[s("router-link",{staticClass:"title",attrs:{to:{path:"/reader",query:{book_id:e["_id"]}}}},[t._v("\n                        "+t._s(e["title"])+"\n                    ")]),s("router-link",{staticClass:"author",attrs:{to:{path:"/search",query:{key_word:e["author"]}}}},[t._v("\n                        "+t._s(e["author"])+"\n                    ")]),s("p",{staticClass:"brief"},[t._v("\n                        "+t._s(e["shortIntro"])+"\n                    ")])],1)}))]):t._e()])],1)},Y=[],H=(s("386d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("ul",{staticClass:"items"},[s("li",{staticClass:"item left"},[s("p",[s("img",{staticClass:"icon",attrs:{src:"data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxwYXRoIGQ9Ik0zMzQuMiwxNTAuNEwyNy45LDQ1Ni43QzQsNDgwLjYsNCw1MTkuNCwyNy45LDU0My4zbDMwNi4zLDMwNi4zYzIzLjksMjMuOSw2Mi43LDIzLjksODYuNiwwYzIzLjktMjMuOSwyMy45LTYyLjcsMC04Ni42TDIxOS4xLDU2MS4zaDcwOS42YzMzLjgsMCw2MS4zLTI3LjQsNjEuMy02MS4zYzAtMzMuOC0yNy40LTYxLjMtNjEuMy02MS4zSDIxOS4xbDIwMS43LTIwMS43YzEyLTEyLDE3LjktMjcuNiwxNy45LTQzLjNjMC0xNS43LTYtMzEuNC0xNy45LTQzLjNDMzk2LjksMTI2LjUsMzU4LjEsMTI2LjUsMzM0LjIsMTUwLjR6IiBzdHlsZT0iZmlsbDojRkZGRkZGIj48L3BhdGg+PC9nPjwvc3ZnPiAg"},on:{click:t.go_back}})])]),s("li",{staticClass:"item right"},[t.msg?s("p",{staticClass:"text"},[t._v(t._s(t.msg))]):t._e()])])])}),G=[],Z={name:"HeaderWithBack",props:["msg"],template:"#template-back-header",methods:{go_back:function(){window.history.back()}}},Q=Z,J=(s("a893"),Object(c["a"])(Q,H,G,!1,null,"43aafb58",null));J.options.__file="HeaderWithBack.vue";var $=J.exports,X={name:"Search",components:{HeaderWithBack:$},data:function(){return{Search_data:"",key_word:""}},beforeMount:function(){this.search()},watch:{$route:function(){this.search()}},methods:{search:function(){var t=this;this.key_word=this.$route.query.key_word,fetch(z.PROX_GATE,{method:"POST",body:JSON.stringify({url:z.API.Search+this.key_word})}).then(function(t){return t.json()}).then(function(e){t.Search_data=e})}}},U=X,K=(s("3b72"),Object(c["a"])(U,W,Y,!1,null,"fa40f1b6",null));K.options.__file="Search.vue";var V=K.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"book"}},[s("HeaderWithBack",{attrs:{msg:t.msg}}),s("div",{attrs:{id:"read-background"}}),s("div",{attrs:{id:"book-area"}},[t.book_source_id?t._e():s("div",{attrs:{id:"book-source-selector"}},[s("ul",{attrs:{id:"book-source-items"}},t._l(t.book_source_ajax,function(e){return s("li",{key:e["_id"],staticClass:"book-source-item"},[s("div",{staticClass:"book-source-item-content"},[s("p",[t._v("来自："+t._s(e["source"]))]),s("p",[t._v("最新："+t._s(e["lastChapter"]))])]),s("div",{staticClass:"book-source-select-button",attrs:{source_id:e["_id"]},on:{click:t.ensure_book_source}},[t._v("选定")])])}))]),t.book_source_id&&!t.chapters?s("div",{attrs:{id:"book-source-selector"}},[t._m(0)]):t._e(),t.now_chapter_content["ok"]&&!t.show_chapter_list?s("div",{attrs:{id:"book-read-area"}},[t.is_vip?s("p",{staticClass:"book-text",domProps:{innerHTML:t._s(t.now_chapter_content["chapter"]["cpContent"])}}):t._e(),t.is_vip?t._e():s("p",{staticClass:"book-text",domProps:{innerHTML:t._s(t.now_chapter_content["chapter"]["body"])}})]):t._e(),t.show_chapter_list?s("div",{attrs:{id:"book-chapter-selector"}},[s("ul",{attrs:{id:"book-chapter-items"}},t._l(t.chapters["chapters"],function(e,o){return s("li",{key:o,staticClass:"book-chapter-item"},[s("p",{attrs:{chapter_index:o},on:{click:t.set_index}},[t._v(t._s(e["title"]))])])}))]):t._e(),t.now_chapter_content["ok"]&&t.show_control_bar?s("div",{attrs:{id:"book-read-cotrol"}},[s("ul",{attrs:{id:"book-read-cotrol-bar"}},[s("li",{staticClass:"book-read-cotrol-bar-item",on:{click:t.show_chapter_list_func}},[t._v("\n                    "+t._s(t.show_chapter_list?"正文":"目录")+"\n                ")]),s("li",{staticClass:"book-read-cotrol-bar-item",on:{click:t.full_screen}},[t._v("\n                    "+t._s(t.isFullscreen?"退出全屏":"全屏")+"\n                ")]),s("li",{staticClass:"book-read-cotrol-bar-item",on:{click:t.put_to_mybook}},[t._v("\n                    "+t._s(t.is_collecting?"已收藏":"收藏")+"\n                ")]),s("li",{staticClass:"book-read-cotrol-bar-item",on:{click:t.add_index}},[t._v("\n                    下一章\n                ")])])]):t._e()])],1)},et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"full"}},[s("p",{attrs:{id:"info_waiting"}})])}],st=(s("a481"),s("b54a"),{name:"Reader",components:{HeaderWithBack:$},data:function(){return{book_id:"",book_source_ajax:"",book_source_id:"",chapters:"",now_index:"",msg:"",chapter_link:"",chapter_title:"",now_chapter_content:"",is_vip:"",chapter_status:"",show_chapter_list:!1,show_control_bar:!0,isFullscreen:!1,is_collecting:!1}},watch:{chapters:function(){this.now_index?this.load_chapter():(this.now_index=0,this.load_chapter())},now_index:function(){localStorage.mybooks&&(JSON.parse(localStorage.mybooks)[this.book_id]&&(this.is_collecting=!0),this.is_collecting&&this.save_book_to_localstorage()),this.chapters&&this.load_chapter()}},beforeMount:function(){if(this.book_id=this.$route.query.book_id,localStorage.mybooks&&JSON.parse(localStorage.mybooks)[this.book_id]){var t=JSON.parse(JSON.parse(localStorage.mybooks)[this.book_id]);this.book_id=t.book_id,this.book_source_id=t.book_source_id,this.now_index=t.now_index}this.book_source_id?this.get_chapters():(this.get_book_source(),this.msg="书源选择")},methods:{get_book_source:function(){var t=this;fetch(z.PROX_GATE,{method:"POST",body:JSON.stringify({url:"http://api.zhuishushenqi.com/atoc?view=summary&book="+this.book_id})}).then(function(t){return t.json()}).then(function(e){t.book_source_ajax=e})},ensure_book_source:function(t){var e=t.target.getAttribute("source_id");e&&(this.book_source_id=e,this.get_chapters())},get_chapters:function(){var t=this;fetch(z.PROX_GATE,{method:"POST",body:JSON.stringify({url:"http://api.zhuishushenqi.com/atoc/"+this.book_source_id+"?view=chapters"})}).then(function(t){return t.json()}).then(function(e){t.chapters=e})},load_chapter:function(){var t=this;this.chapter_link=this.chapters["chapters"][this.now_index]["link"],this.chapter_title=this.chapters["chapters"][this.now_index]["title"],this.msg=this.chapter_title,fetch(z.PROX_GATE,{method:"POST",body:JSON.stringify({url:"http://chapter2.zhuishushenqi.com/chapter/"+encodeURIComponent(this.chapter_link)})}).then(function(t){return t.json()}).then(function(e){t.now_chapter_content=e,e.ok?(t.chapter_status=!0,t.is_vip=t.now_chapter_content.chapter.hasOwnProperty("cpContent"),t.is_vip?t.now_chapter_content.chapter.cpContent=t.now_chapter_content.chapter.cpContent.replace(/\n\n/g,"\n").replace(/\n/g,"</p><p>").replace(/\s/g,""):t.now_chapter_content.chapter.body=t.now_chapter_content.chapter.body.replace(/\n\n/g,"\n").replace(/\n/g,"</p><p>").replace(/\s/g,""),document.querySelector("#book-read-area")&&(document.querySelector("#book-read-area").scrollTop=0)):(t.chapter_status=!1,alert("源好坏了，\n建议换源再试。"))})},show_chapter_list_func:function(){this.show_chapter_list=!this.show_chapter_list,this.show_chapter_list||this.$nextTick(function(){var t=document.querySelector("#book-read-area");t&&(t.scrollTop=0)}),this.show_chapter_list&&this.$nextTick(function(){var t=document.querySelector("#book-chapter-selector");t&&this.show_chapter_list&&(t.scrollTop=document.querySelector("#book-chapter-selector").scrollHeight*this.now_index/this.chapters.chapters.length)})},set_index:function(t){var e=t.target.getAttribute("chapter_index");e&&(this.now_index=e,this.show_chapter_list=!this.show_chapter_list)},add_index:function(){this.now_index<this.chapters.chapters.length-1?this.now_index=parseFloat(this.now_index)+1:alert("已经是最后一章了。")},full_screen:function(){var t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen,e=document.querySelector("#app");function s(t){if(window.ActiveXObject){var e=new ActiveXObject("WScript.Shell");e.SendKeys("{F11}")}else t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.requestFullScreen?t.requestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()}function o(t){if(window.ActiveXObject){var e=new ActiveXObject("WScript.Shell");e.SendKeys("{F11}")}else t.webkitRequestFullScreen?document.webkitCancelFullScreen():t.requestFullScreen?document.exitFullscreen():t.msRequestFullscreen?document.msExitFullscreen():t.mozRequestFullScreen&&document.mozCancelFullScreen()}t?(this.isFullscreen=!1,e.style.top="50px",e.style.bottom="50px",e.style.zIndex="1",o(e)):(this.isFullscreen=!0,e.style.top="0px",e.style.bottom="0px",e.style.zIndex="2",s(e))},put_to_mybook:function(){if(this.is_collecting){this.is_collecting=!1;var t=JSON.parse(localStorage.mybooks);delete t[this.book_id],localStorage.mybooks=JSON.stringify(t)}else this.save_book_to_localstorage(),this.is_collecting=!0},save_book_to_localstorage:function(){var t={book_id:this.book_id,book_source_id:this.book_source_id,now_index:this.now_index},e=localStorage.mybooks;function s(t){e[t.book_id]=JSON.stringify(t),localStorage.mybooks=JSON.stringify(e)}e?(e=JSON.parse(localStorage.mybooks),s(t)):(e={},s(t))}}}),ot=st,it=(s("bc32"),Object(c["a"])(ot,tt,et,!1,null,"7d9366ef",null));it.options.__file="Reader.vue";var nt=it.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"finding"}},[s("HeaderWithBack",{attrs:{msg:t.msg}}),s("div",{staticClass:"full"},[t.sortData?s("ul",{staticClass:"items"},[s("p",{staticClass:"text"},[t._v("男生")]),t._l(t.sortData.male,function(e){return s("li",{staticClass:"item"},[s("router-link",{staticClass:"title",attrs:{to:{path:"/booklist",query:{gender:"male",from:"sort",major:e.name,msg:e.name}}}},[t._v("\n                    "+t._s(e.name)+"\n                ")]),s("span",{staticClass:"count"},[t._v("\n                    "+t._s(e.bookCount)+"\n                ")])],1)})],2):t._e(),t.sortData?s("ul",{staticClass:"items"},[s("p",{staticClass:"text"},[t._v("女生")]),t._l(t.sortData.female,function(e){return s("li",{staticClass:"item"},[s("router-link",{staticClass:"title",attrs:{to:{path:"/booklist",query:{gender:"female",from:"sort",major:e.name,msg:e.name}}}},[t._v("\n                    "+t._s(e.name)+"\n                ")]),s("span",{staticClass:"count"},[t._v("\n                    "+t._s(e.bookCount)+"\n                ")])],1)})],2):t._e(),t.rankingData?s("ul",{staticClass:"items"},[s("p",{staticClass:"text"},[t._v("男生")]),t._l(t.rankingData.male,function(e){return s("li",{staticClass:"item"},[s("router-link",{staticClass:"title",attrs:{to:{path:"/booklist",query:{gender:"male",from:"ranking",rankId:e._id,msg:e.shortTitle}}}},[t._v("\n                    "+t._s(e.shortTitle)+"\n                ")])],1)})],2):t._e(),t.rankingData?s("ul",{staticClass:"items"},[s("p",{staticClass:"text"},[t._v("女生")]),t._l(t.rankingData.female,function(e){return s("li",{staticClass:"item"},[s("router-link",{staticClass:"title",attrs:{to:{path:"/booklist",query:{gender:"female",from:"ranking",rankId:e._id,msg:e.shortTitle}}}},[t._v("\n                    "+t._s(e.shortTitle)+"\n                ")])],1)})],2):t._e()])],1)},rt=[],ct={name:"FindingTarget",components:{HeaderWithBack:$},data:function(){return{msg:"",target:this.$route.params.target,Data:"",sortData:"",rankingData:""}},beforeMount:function(){switch(this.target){case"sort":this.request(z.API.Cats,"sortData");break;case"ranking":this.request(z.API.Ranking,"rankingData");break;default:break}},methods:{request:function(t,e){var s=this;fetch(z.PROX_GATE,{method:"POST",body:JSON.stringify({url:t})}).then(function(t){return t.json()}).then(function(t){"sortData"==e?s.sortData=t:"rankingData"==e&&(s.rankingData=t)})}}},lt=ct,ut=(s("0c9e"),Object(c["a"])(lt,at,rt,!1,null,"7ed7c6de",null));ut.options.__file="FindingTarget.vue";var ht=ut.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[s("HeaderWithBack",{attrs:{msg:t.query.msg}}),s("div",{staticClass:"full"},[t.Books?s("div",[s("ul",{attrs:{id:"items"}},t._l(t.Books,function(e){return s("li",{key:e._id,staticClass:"item"},[s("router-link",{staticClass:"title",attrs:{to:{path:"/reader",query:{book_id:e["_id"]}}}},[t._v("\n                        "+t._s(e["title"])+"\n                    ")]),s("router-link",{staticClass:"author",attrs:{to:{path:"/search",query:{key_word:e["author"]}}}},[t._v("\n                        "+t._s(e["author"])+"\n                    ")]),s("p",{staticClass:"brief"},[t._v("\n                        "+t._s(e["shortIntro"])+"\n                    ")])],1)}))]):t._e()])],1)},_t=[],pt={name:"BookList",components:{HeaderWithBack:$},data:function(){return{Books:"",query:{msg:this.$route.query.msg,gender:this.$route.query.gender,from:this.$route.query.from,major:this.$route.query.major,minor:this.$route.query.minor,rankId:this.$route.query.rankId},start:0}},beforeMount:function(){switch(console.log(this.query),this.query.from){case"sort":this.request(z.API.BookByCat+"?gender="+this.query.gender+"&type=new&major="+this.query.major+"&minor="+(this.query.minor?this.query.minor:"")+"&start="+this.start+"&limit=20");break;case"ranking":this.request(z.API.BookByRanking+this.query.rankId);break;default:break}},watch:{$route:function(){}},methods:{request:function(t){var e=this;fetch(z.PROX_GATE,{method:"POST",body:JSON.stringify({url:t})}).then(function(t){return t.json()}).then(function(t){e.Books=t.ranking?t.ranking.books:t.books})}}},kt=pt,mt=(s("1115"),Object(c["a"])(kt,dt,_t,!1,null,"d697183c",null));mt.options.__file="BookList.vue";var ft=mt.exports,bt=s("b8e5");o["a"].use(bt["a"]);var vt=new bt["a"]({routes:[{path:"/",component:m},{path:"/mybook",component:P},{path:"/finding",component:F},{path:"/finding/:target",component:ht},{path:"/search",component:V},{path:"/booklist",component:ft},{path:"/reader",component:nt}]});o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(u)},router:vt}).$mount("#app")},"64a9":function(t,e,s){},"824b":function(t,e,s){},9054:function(t,e,s){},a893:function(t,e,s){"use strict";var o=s("df6a"),i=s.n(o);i.a},ad4c:function(t,e,s){"use strict";var o=s("28e7"),i=s.n(o);i.a},bc32:function(t,e,s){"use strict";var o=s("9054"),i=s.n(o);i.a},c3ac:function(t,e,s){},caaf:function(t,e,s){},df6a:function(t,e,s){},e223:function(t,e,s){},e8ef:function(t,e,s){},eab4:function(t,e,s){"use strict";var o=s("e8ef"),i=s.n(o);i.a},f698:function(t,e,s){"use strict";var o=s("e223"),i=s.n(o);i.a}});
//# sourceMappingURL=app.e3e81994.js.map